/**
 * NOVA服装OEM网站自定义样式
 * 包含：地图弹窗样式、动画类、响应式优化、移动端触摸优化
 */

/* ========== 地图弹窗样式 ========== */
.custom-popup .leaflet-popup-content-wrapper {
    background: rgba(255, 255, 255, 0.5);
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.custom-popup .leaflet-popup-content {
    margin: 8px 12px;
    font-size: 13px;
    color: #121212;
    min-width: 180px;
    text-align: center;
}

.custom-popup .leaflet-popup-tip {
    background: rgba(255, 255, 255, 0.5);
}

.custom-div-icon {
    background: transparent;
    border: none;
}

/* ========== 动画辅助类 ========== */
.visible {
    visibility: visible !important;
}

.opacity-100 {
    opacity: 1 !important;
}

.translate-y-0 {
    transform: translateY(0) !important;
}

/* ========== 语言选择按钮响应式优化 ========== */
@media (max-width: 639px) {
    #currentLang {
        display: inline !important;
        font-size: 0.875rem;
    }
    
    #langDropdownBtn {
        padding-left: 0.5rem;
        padding-right: 0.5rem;
        gap: 0.5rem;
    }
    
    #langDropdownBtn .fa-globe {
        font-size: 1rem;
    }
    
    #langDropdownBtn .fa-chevron-down {
        font-size: 0.75rem;
    }
}

/* ========== 移动端触摸体验优化样式 ========== */

/* ========== 客户评价滚动交互优化 ========== */

/* PC端：悬停时显示可滚动提示 */
#reviewsCarousel {
    cursor: default;
}

#reviewsCarousel.is-hovering {
    cursor: ns-resize;
}

/* 滚动容器样式 - 隐藏滚动条 */
.reviews-scroll-container {
    scrollbar-width: none;
    -ms-overflow-style: none;
    -webkit-overflow-scrolling: touch;
    overflow-x: hidden;
    overscroll-behavior: contain;
}

.reviews-scroll-container::-webkit-scrollbar {
    display: none;
}

/* 案例展示水平滚动容器样式 */
.cases-scroll-container {
    scrollbar-width: none;
    -ms-overflow-style: none;
    -webkit-overflow-scrolling: touch;
    overflow-y: hidden !important;
    overflow-x: auto !important;
    overscroll-behavior: contain;
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
    padding: 0 1rem;
    margin: 0;
}

.cases-scroll-container::-webkit-scrollbar {
    display: none;
}

/* 案例卡片样式 */
.case-card {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.case-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
}

/* 移动端触摸优化 */
@media (max-width: 768px) {
    .reviews-scroll-container,
    .cases-scroll-container {
        -webkit-overflow-scrolling: touch;
        overscroll-behavior: contain;
        touch-action: auto;
    }
    
    .case-card {
        width: 280px !important;
        min-width: 280px !important;
        max-width: 280px !important;
        flex-shrink: 0 !important;
    }
    
    .review-card {
        touch-action: auto;
    }
    
    /* 案例展示容器优化 */
    #casesCarousel {
        width: 100% !important;
        max-width: 100% !important;
        box-sizing: border-box !important;
        padding: 0 !important;
        margin: 0 !important;
        overflow: hidden !important;
    }
    
    /* 确保案例内容容器正确计算宽度 */
    #casesContent {
        box-sizing: border-box !important;
        padding-right: 1rem !important;
        width: max-content !important;
        display: flex !important;
        gap: 1.5rem !important;
    }
}

/* 轮播触摸反馈 */
.carousel-touching {
    cursor: grabbing !important;
}

.carousel-touching .card-hover {
    transform: none !important;
    box-shadow: none !important;
}

/* 触摸滑动时禁用焦点样式，防止跳动 */
.carousel-touching * {
    outline: none !important;
    box-shadow: none !important;
}

/* 防止案例卡片获取焦点时页面滚动 */
#casesCarousel > div:focus {
    outline: none;
}

/* 触摸目标优化 - 防止误触 */
#casesCarousel {
    touch-action: pan-y;
    -webkit-tap-highlight-color: transparent;
    outline: none;
}

/* 移动端按钮尺寸优化 - 符合48px最小触摸标准 */
@media (max-width: 639px) {
    #prevCase, #nextCase {
        width: 48px !important;
        height: 48px !important;
    }
    
    #prevCase {
        left: 0.75rem !important;
    }
    
    #nextCase {
        right: 0.75rem !important;
    }
    
    /* 移动端案例卡片间距优化 */
    #casesCarousel {
        gap: 0.75rem !important;
        width: 100% !important;
        box-sizing: border-box !important;
    }
    
    /* 移动端案例卡片宽度优化 */
    .case-card {
        width: 280px !important;
        min-width: 280px !important;
        max-width: 280px !important;
    }
    
    /* 确保滚动容器有正确的padding */
    .cases-scroll-container {
        padding: 0 1rem !important;
        box-sizing: border-box !important;
        width: 100% !important;
    }
    
    /* 确保内容容器有足够的右边距，最后一个卡片完整显示 */
    #casesContent {
        padding-right: 1rem !important;
        box-sizing: border-box !important;
    }
    
    /* 移动端标题文字大小优化 */
    #cases h2 {
        font-size: 1.75rem !important;
    }
}

/* 平板端优化 */
@media (min-width: 640px) and (max-width: 1023px) {
    #casesCarousel {
        gap: 1.25rem !important;
    }
    
    #casesCarousel > div {
        width: 320px !important;
    }
    
    #prevCase, #nextCase {
        width: 44px !important;
        height: 44px !important;
    }
}

/* 桌面端优化 */
@media (min-width: 1024px) {
    #casesCarousel {
        gap: 1.5rem !important;
    }
}

/* ========== 服务流程步骤优化 ========== */

/* 步骤标题最小高度，防止英文换行重叠 */
.step-item h4 {
    min-height: 4rem;
    display: flex;
    align-items: center;
    justify-content: center;
    line-height: 1.4;
    word-break: break-word;
    hyphens: auto;
    margin-bottom: 0.75rem;
}

/* 步骤描述文字样式 */
.step-item p {
    line-height: 1.6;
    word-break: break-word;
    hyphens: auto;
    min-height: 6rem;
}

/* 步骤项最小高度，确保有足够空间 */
.step-item {
    min-height: 280px;
}

/* 移动端步骤优化 */
@media (max-width: 639px) {
    .step-item h4 {
        min-height: 3.5rem;
        font-size: 0.8rem;
        line-height: 1.3;
        margin-bottom: 0.5rem;
    }
    
    .step-item p {
        font-size: 0.75rem;
        line-height: 1.5;
        min-height: 5rem;
    }
    
    .step-item {
        min-height: 240px;
    }
}

/* 平板端步骤优化 */
@media (min-width: 640px) and (max-width: 1023px) {
    .step-item h4 {
        min-height: 3.8rem;
        font-size: 0.9rem;
        margin-bottom: 0.6rem;
    }
    
    .step-item p {
        font-size: 0.85rem;
        line-height: 1.55;
        min-height: 5.5rem;
    }
    
    .step-item {
        min-height: 260px;
    }
}
